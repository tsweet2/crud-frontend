<form (ngSubmit)="onSubmit(userForm)" #userForm="ngForm" class="user-form">
    <div class="form-container">
        <h1 class="form-title">Add User</h1>

        <mat-form-field appearance="outline" class="field">
            <mat-label>First Name</mat-label>
            <input matInput type="text" id="firstName" required [(ngModel)]="user.firstName" name="firstName" #firstName="ngModel">
            <mat-error *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)">
                <div *ngIf="firstName.errors?.['required']">First Name is required.</div>
            </mat-error>
        </mat-form-field>
    
        <mat-form-field appearance="outline" class="field">
            <mat-label>Last Name</mat-label>
            <input matInput type="text" id="lastName" required [(ngModel)]="user.lastName" name="lastName" #lastName="ngModel">
            <mat-error *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
                <div *ngIf="lastName.errors?.['required']">Last Name is required.</div>
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="field">
            <mat-label>Telephone Number</mat-label>
            <input matInput type="tel" id="telephone" required [(ngModel)]="user.phoneNumber" name="telephone" #telephone="ngModel">
            <mat-error *ngIf="telephone.invalid && (telephone.dirty || telephone.touched)">
                <div *ngIf="telephone.errors?.['required']">Telephone Number is required.</div>
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="field">
            <mat-label>Email</mat-label>
            <input matInput type="email" id="email" required [(ngModel)]="user.emailAddress" name="email" #email="ngModel">
            <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
                <div *ngIf="email.errors?.['required']">Email is required.</div>
                <div *ngIf="email.errors?.['email']">Invalid email address.</div>
            </mat-error>
        </mat-form-field>

        <!-- ✅ Add Password Field -->
        <mat-form-field appearance="outline" class="field">
            <mat-label>Initial Password</mat-label>
            <input matInput type="password" id="password" required [(ngModel)]="user.password" name="password" #password="ngModel">
            <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
                <div *ngIf="password.errors?.['required']">Password is required.</div>
            </mat-error>
        </mat-form-field>

        <!-- ✅ Add Role Dropdown -->
        
        <mat-form-field appearance="outline" style="width: 100%;">
            <mat-label>Role</mat-label>
            <mat-select [(ngModel)]="user.role" name="role" required #role="ngModel">
              <mat-option value="USER">User</mat-option>
              <mat-option value="ADMIN">Admin</mat-option>
            </mat-select>
          </mat-form-field>
            <mat-error *ngIf="role.invalid && (role.dirty || role.touched)">
                <div *ngIf="role.errors?.['required']">Role is required.</div>
            </mat-error>
            <button mat-raised-button color="primary" type="submit" class="submit-btn" [disabled]="isSubmitting || userForm.invalid">
                {{ isSubmitting ? 'Saving...' : 'Save' }}
              </button>
              
    </div>
</form>

